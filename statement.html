<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>كشف الحساب</title>

  <link rel="stylesheet" href="app.css">
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>

<div class="app">

  <div class="header">كشف الحساب</div>

  <div id="tx"></div>

</div>

<div class="bottom-nav">
  <a href="dashboard.html"><i class="fa-solid fa-house"></i><br>الرئيسية</a>
  <a href="send.html"><i class="fa-solid fa-paper-plane"></i><br>إرسال</a>
  <a href="receive.html"><i class="fa-solid fa-wallet"></i><br>استلام</a>
  <a class="active" href="statement.html"><i class="fa-solid fa-file-lines"></i><br>كشف</a>
  <a href="profile.html"><i class="fa-solid fa-user"></i><br>حسابي</a>
</div>

<script src="firebase.js"></script>
<script>
  firebase.auth().onAuthStateChanged(u=>{
    if(!u) location.href="index.html"

    firebase.database()
      .ref("tx/"+u.uid)
      .on("value", s=>{
        let html=""
        s.forEach(i=>{
          html+=`<div class="list-card">${i.val().type} - ${i.val().amount} SDG</div>`
        })
        document.getElementById("tx").innerHTML = html || "لا توجد عمليات"
      })
  })
</script>

</body>
    </html>
